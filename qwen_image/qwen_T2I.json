{"id":"ca4344dd-c7af-4ebe-a4fc-29493f76a701","revision":0,"last_node_id":85,"last_link_id":154,"nodes":[{"id":39,"type":"VAELoader","pos":[-109.67838287353516,180.4781951904297],"size":[330,60],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"VAELoader","models":[{"name":"qwen_image_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors","directory":"vae"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["qwen_image_vae.safetensors"]},{"id":69,"type":"MarkdownNote","pos":[-540,-220],"size":[390,180],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"VRAM Usage","properties":{"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["## GPU:RTX4090D 24GB\n\n| Configuration            | VRAM Usage | 1st Generation | 2nd Generation |\n|---------------------|---------------|---------------|-----------------|\n| Fp8_e4m3fn             | 86%                | â‰ˆ 94s               | â‰ˆ 71s                   |\n| With 8steps LoRA    | 86%                | â‰ˆ 55s               | â‰ˆ 34s                  |\n| Distill fp8_e4m3fn   | 86%                | â‰ˆ 69s               | â‰ˆ 36s                  |"],"color":"#432","bgcolor":"#653"},{"id":37,"type":"UNETLoader","pos":[-109.67838287353516,-109.52188873291016],"size":[330,90],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"UNETLoader","models":[{"name":"qwen_image_fp8_e4m3fn.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors","directory":"diffusion_models"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default"]},{"id":67,"type":"MarkdownNote","pos":[-687.1226196289062,4.413064956665039],"size":[540,630],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"Model links","properties":{"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["[Tutorial](https://docs.comfy.org/tutorials/image/qwen/qwen-image) | [æ•™ç¨‹](https://docs.comfy.org/zh-CN/tutorials/image/qwen/qwen-image)\n\n\n## Model links\n\nYou can find all the models on [Huggingface](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/tree/main) or [Modelscope](https://modelscope.cn/models/Comfy-Org/Qwen-Image_ComfyUI/files)\n\n**Diffusion model**\n\n- [qwen_image_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors)\n\nQwen_image_distill\n\n- [qwen_image_distill_full_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/non_official/diffusion_models/qwen_image_distill_full_fp8_e4m3fn.safetensors)\n- [qwen_image_distill_full_bf16.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/non_official/diffusion_models/qwen_image_distill_full_bf16.safetensors)\n\n**LoRA**\n\n- [Qwen-Image-Lightning-8steps-V1.0.safetensors](https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Lightning-8steps-V1.0.safetensors)\n\n**Text encoder**\n\n- [qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors)\n\n**VAE**\n\n- [qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors)\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â”œâ”€â”€ qwen_image_fp8_e4m3fn.safetensors\nâ”‚   â”‚   â””â”€â”€ qwen_image_distill_full_fp8_e4m3fn.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ loras/\nâ”‚   â”‚   â””â”€â”€ Qwen-Image-Lightning-8steps-V1.0.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ qwen_image_vae.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ text_encoders/\nâ”‚       â””â”€â”€ qwen_2.5_vl_7b_fp8_scaled.safetensors\n```\n"],"color":"#432","bgcolor":"#653"},{"id":71,"type":"Note","pos":[1360.77734375,-332.8978271484375],"size":[300,88],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["Increase the shift if you get too many blury/dark/bad images. Decrease if you want to try increasing detail."],"color":"#432","bgcolor":"#653"},{"id":8,"type":"VAEDecode","pos":[1346.9967041015625,-188.46612548828125],"size":[210,46],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":128},{"localized_name":"vae","name":"vae","type":"VAE","link":76}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[110]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"VAEDecode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":66,"type":"ModelSamplingAuraFlow","pos":[1316.8099365234375,-81.63455200195312],"size":[300,58],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":148},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[135]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"ModelSamplingAuraFlow","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[3]},{"id":60,"type":"SaveImage","pos":[1323.1585693359375,58.918209075927734],"size":[490,600],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":110},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"SaveImage","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["ComfyUI_qwen_t2v_%date:yyyyMMddhhmmss%"]},{"id":74,"type":"MarkdownNote","pos":[924.6097412109375,664.712158203125],"size":[310,210],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"KSampler settings","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["You can test and find the best setting by yourself. The following table is for reference.\n\n| model            | steps | cfg |\n|---------------------|---------------|---------------|\n| fp8_e4m3fnï¼ˆQwen team's suggestionï¼‰             | 40                | 2.5               \n| fp8_e4m3fn             | 20                | 2.5               |\n| fp8_e4m3fn + 8steps LoRA    | 8               | 1.0               |\n| distill fp8_e4m3fn   | 10               | 1.0              |"],"color":"#432","bgcolor":"#653"},{"id":70,"type":"Note","pos":[942.6731567382812,928.0632934570312],"size":[310,120],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"For fp8 without 8steps LoRA","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["Set cfg to 1.0 for a speed boost at the cost of consistency. Samplers like res_multistep work pretty well at cfg 1.0\n\nThe official number of steps is 50 but I think that's too much. Even just 10 steps seems to work."],"color":"#432","bgcolor":"#653"},{"id":85,"type":"CLIPLoaderMultiGPU","pos":[-84.06053901345389,27.41058620828069],"size":[270,106],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[151,152]}],"properties":{"cnr_id":"comfyui-multigpu","ver":"2.5.9","Node name for S&R":"CLIPLoaderMultiGPU","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.3"}},"widgets_values":["qwen_2.5_vl_7b.safetensors","qwen_image","cuda:2"]},{"id":7,"type":"CLIPTextEncode","pos":[861.5549926757812,-99.6185302734375],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":152},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[52]}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"CLIPTextEncode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["blurry, low quality, distorted, ugly, bad anatomy, deformed, poorly drawn"],"color":"#322","bgcolor":"#533"},{"id":84,"type":"UnetLoaderGGUFMultiGPU","pos":[-111.62849195570858,-309.00545723589346],"size":[273.4029296875,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[]}],"properties":{"cnr_id":"comfyui-multigpu","ver":"2.5.9","Node name for S&R":"UnetLoaderGGUFMultiGPU","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.3"}},"widgets_values":["qwen-image-Q8_0.gguf","cuda:0"]},{"id":58,"type":"EmptySD3LatentImage","pos":[-77.33390808105469,356.95428466796875],"size":[270,106],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[107]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"EmptySD3LatentImage","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1024,1024,1]},{"id":83,"type":"UNETLoaderMultiGPU","pos":[-110.93402166539485,-470.8419281718613],"size":[270,106],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[154]}],"properties":{"cnr_id":"comfyui-multigpu","ver":"2.5.9","Node name for S&R":"UNETLoaderMultiGPU","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.3"}},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default","cuda:0"]},{"id":3,"type":"KSampler","pos":[940.5997924804688,135.02325439453125],"size":[300,474],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":135},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":46},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":52},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":107},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[128]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"KSampler","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1097650841,"fixed",8,1,"lcm","simple",1]},{"id":80,"type":"Power Lora Loader (rgthree)","pos":[275.7302157526788,-31.583023424132076],"size":[526.9297793304218,436.45724932368967],"flags":{},"order":13,"mode":0,"inputs":[{"dir":3,"name":"model","type":"MODEL","link":154},{"dir":3,"name":"clip","type":"CLIP","link":null}],"outputs":[{"dir":4,"name":"MODEL","shape":3,"type":"MODEL","links":[148]},{"dir":4,"name":"CLIP","shape":3,"type":"CLIP","links":null}],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2509062212","Show Strengths":"Single Strength","ue_properties":{"widget_ue_connectable":{},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":[{},{"type":"PowerLoraLoaderHeaderWidget"},{"on":true,"lora":"qwen-image/Qwen-Image-Lightning-8steps-V1.1-bf16.safetensors","strength":1,"strengthTwo":null},{"on":false,"lora":"qwen-image/Qwen-Real PS-51.safetensors","strength":1,"strengthTwo":null},{"on":false,"lora":"qwen-image/Insta-Girls_QWEN_v2.safetensors","strength":1,"strengthTwo":null},{"on":false,"lora":"qwen-image/lenovo.safetensors","strength":1,"strengthTwo":null},{},""]},{"id":6,"type":"CLIPTextEncode","pos":[858.5774536132812,-347.27069091796875],"size":[447.6557922363281,201.032958984375],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":151},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[46]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.48","Node name for S&R":"CLIPTextEncode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["girl posing on the beach taking a selfie"],"color":"#232","bgcolor":"#353"}],"links":[[46,6,0,3,1,"CONDITIONING"],[52,7,0,3,2,"CONDITIONING"],[76,39,0,8,1,"VAE"],[107,58,0,3,3,"LATENT"],[110,8,0,60,0,"IMAGE"],[128,3,0,8,0,"LATENT"],[135,66,0,3,0,"MODEL"],[148,80,0,66,0,"MODEL"],[151,85,0,6,0,"CLIP"],[152,85,0,7,0,"CLIP"],[154,83,0,80,0,"MODEL"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.5445000000000022,"offset":[1112.5969803379678,716.138035791548]},"frontendVersion":"1.26.11","ue_links":[],"links_added_by_ue":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}